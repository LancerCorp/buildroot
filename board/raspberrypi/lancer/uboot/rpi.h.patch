--- /include/configs/rpi.h	2019-01-14 16:02:36.000000000 -0600
+++ /include/configs/rpi.h	2019-04-03 11:22:38.268354000 -0500
@@ -59,9 +59,6 @@
 /* Devices */
 /* GPIO */
 #define CONFIG_BCM2835_GPIO
-/* LCD */
-#define CONFIG_LCD_DT_SIMPLEFB
-#define CONFIG_VIDEO_BCM2835
 
 #ifdef CONFIG_CMD_USB
 #define CONFIG_TFTP_TSIZE
@@ -73,7 +70,7 @@
 /* Environment */
 #define CONFIG_ENV_SIZE			SZ_16K
 #define CONFIG_SYS_LOAD_ADDR		0x1000000
-#define CONFIG_PREBOOT			"usb start"
+
 
 /* Shell */
 
@@ -84,9 +81,9 @@
 
 /* Environment */
 #define ENV_DEVICE_SETTINGS \
-	"stdin=serial,usbkbd\0" \
-	"stdout=serial,vidconsole\0" \
-	"stderr=serial,vidconsole\0"
+	"stdin=serial\0" \
+	"stdout=serial\0" \
+	"stderr=serial\0"
 
 #ifdef CONFIG_ARM64
 #define FDT_HIGH "ffffffffffffffff"
@@ -156,6 +153,10 @@
 
 #define CONFIG_EXTRA_ENV_SETTINGS \
 	"dhcpuboot=usb start; dhcp u-boot.uimg; bootm\0" \
+	"bootargs=8250.nr_uarts=1 bcm2708_fb.fbwidth=800 bcm2708_fb.fbheight=480 bcm2708_fb.fbswap=1 vc_mem.mem_base=0x3ec00000 vc_mem.mem_size=0x40000000 consoleblank=0 vt.global_cursor_default=0 console=ttyAMA0,115200 root=/dev/mmcblk0p2 rootfstype=ext4 rootwait ro\0" \
+	"loadkernel=load mmc 0:2 ${kernel_addr_r} /boot/zImage\0" \
+	"loadfdt=load mmc 0:2 ${fdt_addr_r} /boot/${fdtfile}\0" \
+	"boot=run loadkernel; run loadfdt; bootz ${kernel_addr_r} - ${fdt_addr_r}\0" \
 	ENV_DEVICE_SETTINGS \
 	ENV_MEM_LAYOUT_SETTINGS \
 	BOOTENV
